<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.tedu.mall.seckill.mapper.SeckillSkuMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="cn.tedu.mall.pojo.seckill.model.SeckillSku">
        <id column="id" property="id"/>
        <result column="spu_id" property="spuId"/>
        <result column="title" property="title"/>
        <result column="bar_code" property="barCode"/>
        <result column="attribute_template_id" property="attributeTemplateId"/>
        <result column="data" property="data"/>
        <result column="album_id" property="albumId"/>
        <result column="pictures" property="pictures"/>
        <result column="price" property="price"/>
        <result column="seckillPrice" property="seckill_price"/>
        <result column="stock" property="stock"/>
        <result column="stock_threshold" property="stockThreshold"/>
        <result column="sales" property="sales"/>
        <result column="comment_count" property="commentCount"/>
        <result column="positive_comment_count" property="positiveCommentCount"/>
        <result column="sort" property="sort"/>
    </resultMap>
    <sql id="SimpleFields">
        id,
        spu_id,
        title,
        bar_code,
        attribute_template_id,
        specifications,
        album_id,
        pictures,
        price,
        seckill_price,
        stock,
        stock_threshold,
        sales,
        comment_count,
        positive_comment_count,
        sort
    </sql>
    <select id="selectSeckillSkusBySpuId" resultMap="BaseResultMap">
        select
            <include refid="SimpleFields"/>
        from
            seckill_sku
        where
            spu_id=#{spuId};
    </select>
</mapper>
